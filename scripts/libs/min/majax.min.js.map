{"version":3,"file":"majax.min.js.map","sources":["../majax.js"],"names":["addEvent","obj","type","fn","addEventListener","EventCache","add","attachEvent","window","event","majaxProcessRemainingSpans","spanElems","addHandler","majaxClass","mReq","m","match","success","push","result","msg","dfield","marc","_1","i","length","d","charAt","undefined","span","appendChild","document","createTextNode","ms","clientid","req","getSearchItem","img","createElement","isbn","substring","setAttribute","divHTML","holdings","toLowerCase","div","innerHTML","isAvailable","isAvailableRegex","itemAvailableMsg","singleItemUnavailable","replace","noCopyHeld","f856","u","multipleItemsUnavailable","noCopiesFound","singleCopyStatus","multipleCopyStatus","failure","printSearchItem","p","className","endnote","majaxMakeEndnoteDisplay","majaxMakeHarvardReference","a","majaxMakeEndnoteImport","subfields","electronicBookMsg","er","parentNode","s","nextSibling","removeChild","majax","majaxSearchURL","insertBefore","processed","spanElem","pop","expanded","cName","removeTitle","this","Array","onsuccess","onfailure","status","searchitem","getAttribute","text","innerText","textContent","trim","m2","hasChildNodes","firstChild","style","display","hasMajax","classEntries","split","majaxSearch","setTimeout","majaxProcessSpans","getElementsByTagName","majaxLoaded","debug","majaxLoadHandlers","loaded","majaxOnLoad","iframe","scripts","si","script","src","html","body","frames","getElementById","contentWindow","alert","majaxRunBeforeSpanProcessing","func","listEvents","arguments","flush","item","removeEventListener","detachEvent","String","prototype","superdomain","domain","e"],"mappings":"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"}